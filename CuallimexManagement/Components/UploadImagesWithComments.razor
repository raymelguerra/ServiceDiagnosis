@inject ISnackbar Snackbar

<MudItem xs="12" md="12">
    <MudGrid>
        <MudItem xs="10" md="10">
            <MudSelect MultiSelection="true" T="string" Label="@Label" @bind-Value="@Text" @bind-SelectedValues="Options" T="string">
                @foreach (var item in OptionsList)
                {
                    <MudSelectItem Value="@(item)"/>
                }
            </MudSelect>
        </MudItem>
        <MudItem xs="2" md="2">
            <MudFileUpload T="IBrowserFile" FilesChanged="UploadFiles">
                <ButtonTemplate>
                    <MudIconButton HtmlTag="label"
                                   Color="Color.Info"
                                   Icon="@Icons.Material.Filled.PhotoCamera"
                                   for="@context.Id">
                    </MudIconButton>
                </ButtonTemplate>
            </MudFileUpload>
        </MudItem>
    </MudGrid>
    <MudTextField Variant="Variant.Outlined" Lines="3" T="string" Label="Comentarios" @bind-Value="Comments" />
    <MudGrid Justify="Justify.FlexStart" Spacing="1">
        @for (int i = 0; i < Images?.Count(); i++)
        {
            var item = Images[i];
            if (i < 3)
            {
                <MudItem>
                    <MudImage Src="@($"data:image/png;base64,{item}")" Alt="Image" Elevation="5" Class="rounded-lg ma-4" Width="100" Height="75" />
                </MudItem>
            }
        }
        @if (Images?.Count() > 3)
        {
            <MudItem>
                <MudPaper Height="75px" Width="100px" Elevation="5" Class="rounded-lg ma-4 d-flex align-items-center justify-content-center">
                    <MudText>@(Images?.Count() - 3) Más...</MudText>
                </MudPaper>
            </MudItem>
        }
    </MudGrid>
</MudItem>